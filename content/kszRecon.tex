\label{sec:kszRecon}
The CMB temperature fluctuations caused by kSZ effect is simply an integral of the 
momentum field of free electrons:
\begin{eqnarray}
\label{eq:ksz}
\Theta_{kSZ}(\hat n)\equiv\frac{\Delta T_{kSZ}}{T_{\mr{CMB}}}
=-\frac{1}{c}\int d\eta  g(\eta)  \bm{p}_\parallel\ ,
\end{eqnarray}
where $\eta(z)$ is the comoving distance at redshift z, $g(\eta)=e^{-\tau} d\tau/d\eta$ is the visibility function, $\tau$ is the optical depth to Thomson scattering, 
$p_\parallel=(1+\delta_e)v_\parallel$ 
is the momentum field parallel to the line of sight, 
$\delta_e=(\rho-\bar{\rho})/\bar{\rho}$ 
is the electron overdensity, 
with $\bar\rho$ denotes the average density. 
It is assumed that electron overdensity are closely 
related to baryon overdensity $\delta$ at $z<2$. 

The direct correlation between kSZ and density field vanishes due to the cancellation of positive and negative velocity.
To at most retrieve the correlation,  
we first linearly calculate the peculiar velocity fields $\bm{v_z}$ 
from continuity equation:
\begin{eqnarray}
	\label{eq:v}
\hat v_z(\bm{k})=i a H f\delta(\bm{k})\frac{k_z}{k^2}\,
\end{eqnarray}
where $a$ is the scale factor, $f=d\mathrm{ln}D/d\mathrm{ln}a$, $D(a)$ is the linear growth function, 
$H$ is the Hubble parameter.

We then reconstruct a 2D kSZ field with $v_z$ and $\delta$ 
following Eq.(\ref{eq:ksz}), 
%In linear region, the continuity equation goes like:
%$\dot \delta+\nabla \cdot \bm{v}=0$, 
%where $\bm{v}$ is the peculiar velocity and $\delta$ is the matter overdensity. 
%Therefore, we obtain an estimator of velocity distribution from the density contract $\delta$:
%Therefore the real fields $v_z(\bm{x})$ contain mainly information of small k mode, large scale structure. 
%The linear theory works well in these scales.  
%(relative contributions of different scales in reverse Fourier transformation 
%indicated in Fig.\ref{fig:k3v}).
and quantify the tightness of correlation between reconstructed kSZ and real kSZ 
with a coefficient r: 
\begin{eqnarray}
	r\equiv \frac{P_{recon,real}}{\sqrt{P_{recon}P_{real}}}\,
\end{eqnarray}
%Where $\hat \Theta_{kSZ}$ is reconstructed kSZ map, 
%and $\Theta_{kSZ}$ is real kSZ map.

